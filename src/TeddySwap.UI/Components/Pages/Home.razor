@page "/"
@rendermode InteractiveServer
@using ApexChartType = ApexCharts.ChartType
@using TeddySwap.Data.Models.Reducers
@using TeddySwap.Data.Models

<PageTitle>TeddySwap · Rewards</PageTitle>

<section class="flex justify-center min-h-screen">
    <!-- Main content container -->
    <div class="w-full max-w-4xl p-8">
        <MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
            <!-- Yield Farming Rewards Tab -->
            <MudTabPanel Text="Yield Farming Rewards">
                <MudCard>
                    <MudCardContent>
                        <h2 class="text-2xl font-bold">Yield Farming Rewards</h2>

                        <!-- Chart 1 -->
                        <div class="my-4">
                            <ApexChart TItem="YieldRewardByAddress" Title="Historical Rewards ($TEDY)" Options="YieldRewardOptions">
                                <ApexPointSeries @ref="yieldRewardSeries" TItem="YieldRewardByAddress" Items="Rewards" Name="Base Reward"
                                    SeriesType="SeriesType.Line" XValue="@(e => e.Timestamp)"
                                    YAggregate="@(e => e.Sum(e => (decimal)e.Amount / 1_000_000))" OrderBy="e=>e.X"/>
                            </ApexChart>
                        </div>
                        <MudDivider />
                        <!-- Chart 2 -->
                        <div class="my-4">
                            <ApexChart TItem="YieldFarmingDistribution" Title="Distribution ($TEDY) on Block" Options="DistributionOptions">
                                <ApexPointSeries @ref="distributionSeries" TItem="YieldFarmingDistribution" Items="Distribution" Name="OnChain Distribution"
                                    SeriesType="SeriesType.Line" XValue="@(e => e.BlockNumber.ToString())"
                                    YValue="@(e => (decimal)e.Amount / 1_000_000)" OrderBy="e=>e.X"/>
                                <ApexPointSeries @ref="projectedDistributionSeries" TItem="YieldFarmingDistribution" Items="ProjectedDistribution" Name="Projected Distribution"
                                    SeriesType="SeriesType.Line" XValue="@(e => e.BlockNumber.ToString())"
                                    YValue="@(e => (decimal)e.Amount / 1_000_000)" OrderBy="e=>e.X"/>
                            </ApexChart>
                        </div>

                        <!-- Additional charts can be added here in a similar manner -->
                    </MudCardContent>
                </MudCard>
            </MudTabPanel>

            <!-- INO (Initial NFT Offering) Rewards Tab -->
            <MudTabPanel Text="INO Rewards">
                <MudCard>
                    <MudCardContent>
                        <h2 class="text-2xl font-bold">INO (Initial NFT Offering) Rewards</h2>
                        <p>Coming soon...</p>
                    </MudCardContent>
                </MudCard>
            </MudTabPanel>

            <!-- ITN (Incentivized Testnet) Rewards Tab -->
            <MudTabPanel Text="ITN Rewards">
                <MudCard>
                    <MudCardContent>
                        <h2 class="text-2xl font-bold">ITN (Incentivized Testnet) Rewards</h2>
                        <p>Coming soon...</p>
                    </MudCardContent>
                </MudCard>
            </MudTabPanel>

            <!-- FISO (Fair Initial Stake Pool Offering) Rewards Tab -->
            <MudTabPanel Text="FISO Rewards">
                <MudCard>
                    <MudCardContent>
                        <h2 class="text-2xl font-bold">FISO (Fair Initial Stake Pool Offering) Rewards</h2>
                        <p>Coming soon...</p>
                    </MudCardContent>
                </MudCard>
            </MudTabPanel>
        </MudTabs>
    </div>
</section>